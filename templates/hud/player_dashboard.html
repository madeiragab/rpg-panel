{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="content">
    <div class="dashboard-header">
        <h1 class="panel-title">Minhas Campanhas</h1>
        <a href="{% url 'home' %}" class="hud-button ghost">Voltar</a>
    </div>

    {% if campaigns %}
        <div class="campaigns-grid">
            {% for campaign in campaigns %}
            <a href="{% url 'campaign_detail' campaign.pk %}{% if player_mode %}?mode=player{% endif %}" class="campaign-card">
                {% if campaign.banner %}
                    <div class="campaign-banner" style="background-image: url('{{ campaign.banner.url }}')"></div>
                {% else %}
                    <div class="campaign-banner empty"></div>
                {% endif %}
                <div class="campaign-info">
                    <h3 class="campaign-name">{{ campaign.name }}</h3>
                    <p class="campaign-desc">{{ campaign.description|truncatewords:15 }}</p>
                    <p class="campaign-master">Mestre: {{ campaign.master.username }}</p>
                </div>
            </a>
            {% endfor %}
        </div>
    {% else %}
        <div class="empty-state">
            <p>Você não está em nenhuma campanha ainda.</p>
            <p>Aguarde um mestre adicioná-lo a uma campanha.</p>
        </div>
    {% endif %}
</div>
{% endblock %}
